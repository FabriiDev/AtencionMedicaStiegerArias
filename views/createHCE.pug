extends layout

block head 
    link(rel="stylesheet", href="/styles/general.css")

block header 
    include templates/header.pug

block content 
    .text-center.cont-todo.mt-5.width-90
        .row 
            .col 
                .card
                    .card-body
                        .fecha.mt-3.d-flex.gap-3.mb-3.align-items-center.flex-column
                            h3.car-title Paciente: #{turno.nombre_paciente} #{turno.apellido_paciente}
                            div Turno: 
                                select(disabled).border
                                    option #{fechaFormateada}
                        .d-flex.justify-content-center.align-items-center.text-center.gap-3
                            h4.card-title Motivo:  
                        .card-text.mb-3.text-center 
                            | #{turno.motivo_consulta}
        
        //- Sección única de columna con 6 filas
        .conteiner.text-center.cont-todo.mt-5
            .row.mt-3
                .col-12
                    .d-flex.justify-content-around.align-items-center
                        h5.card-title.fs-3.d-flex.gap-2.align-items-center.bg-light.p-3 Diagnostico
                            .obligatorio.fs-4 (obligatorio)
                    .card.bg-papel.mb-5
                        .card-body.largo.d-flex.justify-content-center.flex-column
                            p.card-text Estado 
                                select#estadoDiagnostico
                                    option(value="") Seleccione uno 
                                    option(value='Preeliminar') Preeliminar 
                                    option(value='Confirmado') Confirmado
                            p.card-text Detalles: 
                            textarea.txt-area-style#diagnosticoDetalle
                            button(onclick="cargarDiagnostico()").btn.w-25.text-center.m-auto.btn-primary#btnDiagnostico Cargar 

            .row.mt-3
                .col-12
                    .d-flex.justify-content-around.align-items-center
                        h5.card-title.fs-3.d-flex.gap-2.align-items-center.bg-light.p-3 Evolucion
                            .obligatorio.fs-4 (obligatorio)
                    .card.bg-papel.mb-5
                        .card-body.largo.d-flex.justify-content-center.align-items-center.flex-column
                            p.card-text Detalles: 
                            textarea.txt-area-style#evolucionDetalle
                                | #{template}
                            button(onclick="cargarEvolucion()").btn.w-25.text-center.m-auto.btn-primary#btnEvolucion Cargar 

            .row.mt-3
                .col-12
                    .d-flex.justify-content-around.align-items-center
                        h5.card-title.fs-3.d-flex.gap-2.align-items-center.bg-light.p-3 Medicamentos
                    .card.bg-papel.mb-5
                        .card-body.largo
                            .d-flex.gap-3.mb-5.flex-column 
                                label.card-text Nombre: 
                                input(type="text" placeholder="Paracetamol")#nombreMedicamento
                            .d-flex.gap-3.flex-column
                                label.card-text tuqi: 
                                select#selectMedicamento(name="medicamento")
                                    each val in medicamentos
                                        option(value=val.id_medicamentos) #{val.nombre_medicamento}
                                textarea(disabled).txt-area-style#detalleMedicamento
                                button(onclick="cargarMedicamento()").btn.w-25.text-center.m-auto.btn-primary#btnMedicamento Cargar 

            .row.mt-3
                .col-12
                    .d-flex.justify-content-around.align-items-center
                        h5.card-title.fs-3.d-flex.gap-2.align-items-center.bg-light.p-3 Antecedentes
                        
                    .card.bg-papel.mb-5
                        .card-body.largo
                            .card-text.mb-3 Descripcion: 
                            textarea.txt-area-style#detalleAntecedentes
                        .card-text.d-flex.justify-content-around.p-2.gap-2
                            .d-flex.ipt-fecha.gap-2.align-items-center 
                                | Desde: 
                                input(type="text" placeholder="15/05/24").ahi-nomas#desdeAntecedentes
                            .d-flex.ipt-fecha.gap-2 
                                | Hasta: 
                                input(type="text" placeholder="01/06/24").ahi-nomas#hastaAntecedentes
                        button(onclick="cargarAntecedentes()").btn.w-25.text-center.m-auto.btn-primary.mb-3#btnAntecedentes Cargar 

            .row.mt-3
                .col-12
                    .d-flex.justify-content-around.align-items-center
                        h5.card-title.fs-3.d-flex.gap-2.align-items-center.bg-light.p-3 Habitos
                    .card.bg-papel.mb-5
                        .card-body.largo 
                            .card-text.mb-3 Descripcion: 
                            textarea.txt-area-style#detalleHabitos
                        .card-text.d-flex.justify-content-around.p-2.gap-2
                            .d-flex.ipt-fecha.gap-2.align-items-center 
                                | Desde: 
                                input(type="text" placeholder="15/05/24").ahi-nomas#desdeHabitos
                            .d-flex.ipt-fecha.gap-2 
                                | Hasta: 
                                input(type="text" placeholder="01/06/24").ahi-nomas#hastaHabitos
                        button(onclick="cargarHabitos()").btn.w-25.text-center.m-auto.btn-primary.mb-3#btnHabitos Cargar 

            .row.mt-3
                .col-12
                    .d-flex.justify-content-around.align-items-center 
                        h5.card-title.fs-3.d-flex.gap-2.align-items-center.bg-light.p-3 Alergia
                    .card.bg-papel.mb-5
                        .card-body.largo
                            .d-flex.gap-3.mb-5.flex-column 
                                label.card-text Nombre: 
                                input(type="text" placeholder="Polen")#nombreAlergia
                            .d-flex.gap-3.flex-column
                                label.card-text Descripcion: 
                                textarea.txt-area-style#detalleAlergia
                        .card-text.d-flex.justify-content-around.p-2.gap-2
                            .d-flex.ipt-fecha.gap-2.align-items-center  
                                | Desde: 
                                input(type="text" placeholder="15/05/24" ).ahi-nomas#desdeAlergia
                            .d-flex.ipt-fecha.gap-2 
                                | Hasta: 
                                input(type="text" placeholder="01/06/24" ).ahi-nomas#hastaAlergia
                        button(onclick="cargarAlergia()").btn.w-25.text-center.m-auto.btn-primary.mb-3#btnAlergia Cargar 

    .text-center.mt-3.mb-5
        button(onclick="guardarHistorial()").btn.btn-success.btn-float.sombra-btn-guardar Guardar Historial
    script(src='/js/createHCE.js') 
block footer 
    include templates/footer.pug